#:kivy 2.0.0
#:import utils kivy.utils

<Button>:
    font_size: 13
    #background_normal resetuje kolor przycisku - standardowo jest szary, przez co nadanie koloru powoduje wymieszanie go z szarym
    background_normal: ''

    #kolor w odniesieniu do RGB + przezroczystosc (opacity), można ustawiać nadając X/255.0 - musi byc typu float
    background_color: (69/255.0, 74/255.0, 82/255.0, .8)

    #utils to biblioteka która posiada metode zaciągającą kolor z jego kodu HEX:
    #background_color: utils.get_color_from_hex('#ffa12e')


<First_window>:

    FloatLayout:
        pos_hint: {'center_x': .5, 'center_y': .5}
        Label:
            size_hint: 1, .2
            pos_hint: {"y": 0.6}
            text: "Witamy w programie do tworzenia histogramów z plików .csv!"

        FloatLayout:
            pos_hint: {'center_x': .5, 'center_y': .5}

            BoxLayout:
                orientation: 'horizontal'
                size_hint: .3, .1
                pos_hint: {"x": 0.35, 'y': 0.4}

                Button:
                    text: "Select a file"
                    on_release:
                        root.manager.current = 'filechooser'
                        root.manager.transition.direction = 'left'

<Filechooser>:
    name: "filechooser"

    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height

        spacing: 10
        padding: 10

        BoxLayout:
            FileChooserIconView:
                dirselect: True
                on_selection: root.select(*args)

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, 0.1

            Button:
                text: "Go back"
                size_hint: 0.15, 1
                on_release:
                    root.manager.current = 'first_window'
                    root.manager.transition.direction = "right"

            Label:
                id: filename
                text: f'Brak wybranej ścieżki, wybierz plik.'
                pos_hint: {"center_x": .5}
                size_hint: 0.7, 1

            Button:
                text: "Select file"
                size_hint: 0.15, 1
                on_release:
                    root.save_path()
                    print(root.file_path)
                    root.manager.filepath = root.file_path
                    print(root.manager.filepath)
                    root.manager.current = 'sorting_algorithms'
                    root.manager.transition.direction = 'left'



<sorting_algorithms>:
    name: "sorting_algorithms"
    on_enter: filepath.text = root.manager.filepath
    FloatLayout:
        pos_hint: {'center_x': .5, 'center_y': .5}

        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, .2
            pos_hint: {"y": 0.8}

            BoxLayout:
                FloatLayout:
                    Label:
                        size_hint: 0.3, 1
                        text: "Wybrany plik: "
                    Label:
                        id: filepath
            Label:
                text: "Wybierz algorytm, którym chcesz posortować dane:"

        BoxLayout:
            orientation: "vertical"
            size_hint: .3, .5
            pos_hint: {"x": .35, "y": .25}
            spacing: 10
            Button:
                text: "First algorythm"
                on_release:
                    root.show_path()

            Button:
                text: "Second algorythm"
            Button:
                text: "Third algorythm"
            Button:
                text: "Fourth algorythm"

        Label:
            size_hint: 1, .2
            text: "Od wyboru algorytmu zależeć będzie czas sortowania danych. Wybierz mądrze! :)"